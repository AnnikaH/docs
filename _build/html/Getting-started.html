<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Getting started &#8212; IncludeOS 0.9.3 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/custom_style.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/custom_style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing to IncludeOS" href="Contributing-to-IncludeOS.html" />
    <link rel="prev" title="Install" href="Install.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="Contributing-to-IncludeOS.html" title="Contributing to IncludeOS"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Install.html" title="Install"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IncludeOS 0.9.3 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="getting-started">
<span id="id1"></span><h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="install-libraries">
<h2>Install libraries<a class="headerlink" href="#install-libraries" title="Permalink to this headline">¶</a></h2>
<p><strong>NOTE:</strong> The script will install packages and create a network bridge, and thus will ask for sudo access.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ git clone https://github.com/hioa-cs/IncludeOS
$ cd IncludeOS
$ ./install.sh
</pre></div>
</div>
<p><strong>The script will:</strong></p>
<ul class="simple">
<li>Install the required dependencies: <cite>curl make clang-3.8 nasm bridge-utils qemu</cite>.</li>
<li>Download the latest binary release bundle from github.</li>
<li>Unzip the bundle to <cite>$INCLUDEOS_INSTALL_LOC</cite> (defaults to <cite>$HOME</cite>).</li>
<li>Create a network bridge called <cite>include0</cite>, for tap-networking.</li>
<li>Build the vmbuilder, which turns your service into a bootable image.</li>
<li>Copy <cite>vmbuild</cite> and <cite>qemu-ifup</cite> from the repo, over to <cite>$INCLUDEOS_HOME</cite>.</li>
</ul>
<p>Detailed installation instructions for Vagrant, Mac OS and Ubuntu are available, as well as instructions for building everything from source.
.. Se under Install.rst (Ubuntu B) Completely build everything from source)</p>
</div>
<div class="section" id="testing-the-installation">
<h2>Testing the installation<a class="headerlink" href="#testing-the-installation" title="Permalink to this headline">¶</a></h2>
<p>A successful setup enables you to build and run a virtual machine. Running:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ ./test.sh
</pre></div>
</div>
<p>will build and run <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/examples/demo_service/service.cpp">this example service</a>.</p>
<p>More information about testing the example service is available here: <a class="reference internal" href="#testing-the-example-service"><span class="std std-ref">Testing the example service</span></a>.
.. Testing the example service is further down on the page</p>
</div>
<div class="section" id="writing-your-first-service">
<h2>Writing your first service<a class="headerlink" href="#writing-your-first-service" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Copy the <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/tree/master/seed">./seed</a> directory to a convenient location like <cite>~/your_service</cite>. Then, just start implementing the <cite>Service::start</cite> function in the <cite>Service</cite> class, located in <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/seed/service.cpp">your_service/service.cpp</a> (very simple example provided). This function will be called once the OS is up and running.</li>
<li>Enter the name of your service in the first line of the <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/seed/Makefile">seed Makefile</a>. This will be the base for the name of the final disk image.</li>
</ol>
<p><strong>Example:</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ cp -r seed ~/my_service
$ cd ~/my_service
$ emacs service.cpp
... add your code
$ make
$ ./run.sh my_service.img
</pre></div>
</div>
<p>Take a look at the <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/tree/master/examples">examples</a> and the <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/tree/master/test">tests</a> on GitHub. These all started out as copies of the same seed.</p>
</div>
<div class="section" id="helper-scripts">
<h2>Helper scripts<a class="headerlink" href="#helper-scripts" title="Permalink to this headline">¶</a></h2>
<p>There&#8217;s a convenience script, <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/seed/run.sh">./seed/run.sh</a>, which has the &#8220;Make-vmbuild-qemu&#8221; sequence laid out, with special options for debugging (It will add debugging symbols to the elf-binary and start qemu in debugging mode, ready for connection with <code class="docutils literal"><span class="pre">gdb</span></code>. More on this inside the script.). I use this script to run the code, where I&#8217;d normally just run the program from a shell. Don&#8217;t worry, it&#8217;s fast, even in nested/emulated mode.</p>
</div>
<div class="section" id="debugging-with-bochs">
<h2>Debugging with Bochs<a class="headerlink" href="#debugging-with-bochs" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>If you want to debug the bootloader, or inspect memory, registers, flags etc. using a GUI, you need to install <a class="reference external" href="http://bochs.sourceforge.net/">Bochs</a>. This is because <code class="docutils literal"><span class="pre">gdb</span></code> only works for objects with debugging symbols, which we don&#8217;t have for our bootloader. See <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/etc/bochs_installation.sh">./etc/bochs_installation.sh</a> for build options, and <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/etc/.bochsrc">./etc/.bochsrc</a> for an example configuration file (which specifies a &lt;1MB disk).</li>
</ul>
<div class="section" id="testing-the-example-service">
<span id="id2"></span><h3>Testing the example service<a class="headerlink" href="#testing-the-example-service" title="Permalink to this headline">¶</a></h3>
<p><strong>Things to note</strong></p>
<ul>
<li><p class="first">The default test script will only work on Linux, and uses Qemu (with KVM if available). To run IncludeOS directly on VirtualBox, see <code class="docutils literal"><span class="pre">etc/vboxrun.sh</span></code></p>
</li>
<li><p class="first">There is no shell! IncludeOS is a unikernel, and so it will only run one process. Think of an IncludeOS VM as a local process.</p>
</li>
<li><p class="first">There is no default VGA! So, nothing will show up on the &#8220;screen&#8221; if you&#8217;re using a GUI (i.e. if you run IncludeOS directly in virtualbox). To enable VGA you will need to connect <code class="docutils literal"><span class="pre">OS::set_rsprint_secondary</span></code> to a lambda that calls <code class="docutils literal"><span class="pre">ConsoleVGA::write</span></code> (see: <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/api/kernel/vga.hpp">api/kernel/vga.hpp</a> and the <a class="reference external" href="https://github.com/hioa-cs/IncludeOS/blob/master/test/hw/integration/vga/vga.cpp">test service</a> for an example), as well as enable graphical output in the emulator, such as qemu. We&#8217;ll add VGA support in the future, as a package.</p>
</li>
<li><p class="first">You should be able to ping the VM. Its IP-address will be stated in the boot-time output from IncludeOS.</p>
</li>
<li><p class="first">You should also be able to open a simple webpage on the VM, by entering the IP into a browser, inside the development machine.</p>
</li>
<li><p class="first">How to get out? The test script starts <a class="reference external" href="http://wiki.qemu.org/Main_Page">qemu</a> with the <code class="docutils literal"><span class="pre">--nographics</span></code>-option. This will by default reroute stdin and stdout to the terminal. To exit the virtual machine, you can go via the <a class="reference external" href="https://en.wikibooks.org/wiki/QEMU/Monitor#Virtual_machine">Qemu monitor</a>. The command for entering the monitor is <code class="docutils literal"><span class="pre">Ctrl+a</span> <span class="pre">c</span></code>, or to exit directly, <code class="docutils literal"><span class="pre">Ctrl+a</span> <span class="pre">x</span></code>.</p>
<blockquote>
<div><ul class="simple">
<li><em>NOTE</em>: This keyboard shortcut may not work if you&#8217;re interacting with your development environment is via a VirtualBox GUI, over putty, inside a <code class="docutils literal"><span class="pre">screen</span></code> etc. If you find a good solution for a certain platform (i.e. putty to VirtualBox on Windows), please let us know so we can update our wiki.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Getting started</a><ul>
<li><a class="reference internal" href="#install-libraries">Install libraries</a></li>
<li><a class="reference internal" href="#testing-the-installation">Testing the installation</a></li>
<li><a class="reference internal" href="#writing-your-first-service">Writing your first service</a></li>
<li><a class="reference internal" href="#helper-scripts">Helper scripts</a></li>
<li><a class="reference internal" href="#debugging-with-bochs">Debugging with Bochs</a><ul>
<li><a class="reference internal" href="#testing-the-example-service">Testing the example service</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="Install.html"
                        title="previous chapter">Install</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="Contributing-to-IncludeOS.html"
                        title="next chapter">Contributing to IncludeOS</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Getting-started.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="Contributing-to-IncludeOS.html" title="Contributing to IncludeOS"
             >next</a> |</li>
        <li class="right" >
          <a href="Install.html" title="Install"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">IncludeOS 0.9.3 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, IncludeOS.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.
    </div>
  </body>
</html>